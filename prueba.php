<?php
	echo base64_decode('DQoNCmZ1bmN0aW9uIGdldGRhdG9zMSgpew0KCWV4ZWMoJ2lwY29uZmlnL2FsbCA+IG1hYy50eHQnKTsNCgkkZnAgPSBmb3BlbigibWFjLnR4dCIsInIiKTsJCQ0KCSR1Ymk9ZmFsc2U7DQoJd2hpbGUgKCRsaW5lYT0gZmdldHMoJGZwKSkNCgl7DQoJCWlmKHN0cnN0cigkbGluZWEsJ0FkYXB0YWRvciBFdGhlcm5ldCBDb25leGnzbiBkZSDhcmVhIGxvY2FsJykgfHwgc3Ryc3RyKCRsaW5lYSwnRXRoZXJuZXQgYWRhcHRlciBMb2NhbCBBcmVhIENvbm5lY3Rpb246Jykpew0KCQkJJHViaT10cnVlOw0KCQl9DQoJCWlmKCR1Ymk9PXRydWUpew0KCQkJaWYoc3Ryc3RyKCRsaW5lYSwnRGVzY3JpcGNp824nKSB8fCBzdHJzdHIoJGxpbmVhLCdEZXNjcmlwdGlvbicpKXsNCgkJCQkkdmFsb3I9ZXhwbG9kZSgiOiIsJGxpbmVhKTsNCgkJCQkkbm9tX21hYz10cmltKCR2YWxvclsxXSk7DQoJCQl9DQoJCQlpZihzdHJzdHIoJGxpbmVhLCdEaXJlY2Np824gZu1zaWNhJykgfHwgc3Ryc3RyKCRsaW5lYSwnUGh5c2ljYWwgQWRkcmVzcycpKXsNCgkJCQkkdmFsb3I9ZXhwbG9kZSgiOiIsJGxpbmVhKTsNCgkJCQkkbWFjPXRyaW0oJHZhbG9yWzFdKTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCX0NCglmY2xvc2UgKCRmcCk7DQoJdW5saW5rKCdtYWMudHh0Jyk7DQoJJG5vbV9zZXJ2ZXI9JF9TRVJWRVJbIlNFUlZFUl9OQU1FIl07DQoJJGlwPSRfU0VSVkVSWyJTRVJWRVJfQUREUiJdOw0KCSR2YWxvcj1leHBsb2RlKCIuIiwkaXApOw0KCQ0KCSRpcF9zZXJ2ZXI9JHZhbG9yWzBdLiIuIi4kdmFsb3JbMV0uIi4iLiR2YWxvclsyXS4iLiI7DQoJcmV0dXJuIGFycmF5KCRub21fbWFjLCRtYWMsJG5vbV9zZXJ2ZXIsJGlwX3NlcnZlcik7DQp9DQoNCgkNCglmdW5jdGlvbiB6ZW5kX2VuY29kZXIoJHN0cmluZyl7DQoJCWdsb2JhbCAka2V5OyANCgkJJGVuYyA9ICIiOw0KCQlnbG9iYWwgJGl2OyANCgkJJGVuYz1AbWNyeXB0X2NiYyAoTUNSWVBUX1RyaXBsZURFUywgJGtleSwgJHN0cmluZywgTUNSWVBUX0VOQ1JZUFQpOyANCgkJcmV0dXJuIGJhc2U2NF9lbmNvZGUoJGVuYyk7IA0KCQkNCgl9DQoJJGtleT0kX1NFU1NJT05bIm1lbnN1YWxpZGFkIl07DQoJZnVuY3Rpb24gemVuZF9lbmMoJHN0cmluZywkYWNjZXNvKXsNCgkJJGlkX3NlZz1zdHJ0b3VwcGVyKG1kNSgnMScpKTsNCgkJJGFjY2Vzby0+b2JqZXRvLT5lamVjdXRhclNxbCgic2VsZWN0IGZpcm1hX3NlZyBmcm9tIGNvbnRyYXRvX3NlciB3aGVyZSBpZF9zZWc9JyRpZF9zZWcnIik7CQ0KCQkkcm93PSRhY2Nlc28tPm9iamV0by0+ZGV2b2x2ZXJSZWdpc3RybygpOwkNCgkJJGtleT10cmltKCRyb3dbJ2Zpcm1hX3NlZyddKTsNCgkJJGVuYz1AbWNyeXB0X2NiYyAoTUNSWVBUX1RyaXBsZURFUywgJGtleSwgJHN0cmluZywgTUNSWVBUX0VOQ1JZUFQpOyANCgkJcmV0dXJuIGJhc2U2NF9lbmNvZGUoJGVuYyk7IA0KCX0NCglmdW5jdGlvbiB6ZW5kX2RlYygkc3RyaW5nLCRhY2Nlc28pew0KCQkkaWRfc2VnPXN0cnRvdXBwZXIobWQ1KCcxJykpOw0KCQkkYWNjZXNvLT5vYmpldG8tPmVqZWN1dGFyU3FsKCJzZWxlY3QgZmlybWFfc2VnIGZyb20gY29udHJhdG9fc2VyIHdoZXJlIGlkX3NlZz0nJGlkX3NlZyciKTsJDQoJCSRyb3c9JGFjY2Vzby0+b2JqZXRvLT5kZXZvbHZlclJlZ2lzdHJvKCk7CQ0KCQkka2V5PXRyaW0oJHJvd1snZmlybWFfc2VnJ10pOw0KCQkkc3RyaW5nID0gdHJpbShiYXNlNjRfZGVjb2RlKCRzdHJpbmcpKTsgIA0KCQkkZGVjID0gQG1jcnlwdF9jYmMgKE1DUllQVF9UcmlwbGVERVMsICRrZXksICRzdHJpbmcsIE1DUllQVF9ERUNSWVBUKTsgDQoJCQkJcmV0dXJuIHRyaW0oJGRlYyk7IA0KCX0NCgkNCglmdW5jdGlvbiBuaXZlbDEoKXsNCgkJJHJlZmVyPSRfU0VSVkVSWyJIVFRQX1JFRkVSRVIiXTsNCgkJbml2ZWwyKCk7DQoJCWlmKHN0cnN0cigkcmVmZXIsJ2h0dHA6Ly9zZXJ2ZXIvU0FFQ08vJykpew0KCQkJaWYobml2ZWwyKCkpewkJCQ0KCQkJCXJldHVybiB0cnVlOw0KCQkJfQ0KCQkJZWxzZXsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCX0NCgkJcmV0dXJuIGZhbHNlOw0KCX0NCglmdW5jdGlvbiBuaXZlbDIoKXsNCgkJJHJ1dGE9JF9TRVJWRVJbIlNDUklQVF9GSUxFTkFNRSJdOw0KCQkkZnAgPSBmb3BlbigkcnV0YSwiciIpOwkJDQoJCSR1Ymk9ZmFsc2U7DQoJCXdoaWxlICgkbGluZWE9IGZnZXRzKCRmcCkpDQoJCXsNCgkJCWlmKHN0cnN0cigkbGluZWEsJ2VjaG8nKSB8fCBzdHJzdHIoJGxpbmVhLCdwcmludCcpKXsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCX0NCgkJZmNsb3NlICgkZnApOw0KCQlyZXR1cm4gdHJ1ZTsNCgl9DQoJZnVuY3Rpb24gdHJhZXJDb250cmF0b19zZXIoJGFjY2VzbywkYWNjZXNvMSl7DQoJCSRpZF9zZWc9c3RydG91cHBlcihtZDUoJzEnKSk7DQoJCQkkYWNjZXNvLT5vYmpldG8tPmVqZWN1dGFyU3FsMSgic2VsZWN0IGxsYXZlX2RlYyxsaW1pdGVfcmVnLCBsaWNlbmNpYV9zZWcsIGZlY2hhX2xpYywgaG9yYV9saWMsIGVtcHJlc2FfYXV0LCB2ZXJzaW9uX3NpcywgYWNlcmNhX2RlLCBzdGF0dXNfc2VnICBmcm9tIGNvbnRyYXRvX3NlciB3aGVyZSBsbGF2ZV9kZWMhPScnIik7CQ0KCQlpZigkcm93PSRhY2Nlc28tPm9iamV0by0+ZGV2b2x2ZXJSZWdpc3RybygpKXsJDQoJCQkkbnVtID0gY291bnQoJHJvdyk7DQoJCQlmb3IoJGk9MDskaTwkbnVtOyRpKyspew0KCQkJCWVjaG8gJz1AJy56ZW5kX2RlYyh0cmltKCRyb3dbJGldKSwkYWNjZXNvMSk7DQoJCQl9DQoJCX0NCgkJZWxzZXsNCgkJCWVjaG8gImZhbHNlIjsNCgkJfQ0KCX0NCglmdW5jdGlvbiB2ZXJpZmljYW1lbigkYWNjZXNvKXsNCgkJJGRhdG9zPWdldGRhdG9zMSgpOw0KCQkkY2FtcG8gPSBtZDUoJGRhdG9zWzBdLiRkYXRvc1sxXS4kZGF0b3NbMl0uJGRhdG9zWzNdKTsNCgkJJGlkX3NlZz1zdHJ0b3VwcGVyKG1kNSgnMScpKTsNCgkJJF9TRVNTSU9OWyJtZW5zdWFsaWRhZCJdPSRjYW1wbzsNCgkNCgl9DQoJDQoJDQoJZnVuY3Rpb24gemVuZF9kZWNvZGVyKCRzdHJpbmcpew0KCQlpZihuaXZlbDEoKSl7DQoJCWdsb2JhbCAka2V5OyANCgkJDQoJCWdsb2JhbCAkaXY7IA0KCQkkc3RyaW5nID0gdHJpbShiYXNlNjRfZGVjb2RlKCRzdHJpbmcpKTsgIA0KCQkkZGVjID0gQG1jcnlwdF9jYmMgKE1DUllQVF9UcmlwbGVERVMsICRrZXksICRzdHJpbmcsIE1DUllQVF9ERUNSWVBUKTsgDQoJCQkJcmV0dXJuIHRyaW0oJGRlYyk7IA0KCQl9DQoJCWVsc2V7DQoJCQllY2hvICJBY2Nlc28gbm8gYXV0b3JpemFkbyBhIGVzdG9zIGRhdG9zLiAoQ0VERVNPRlQgQk9MSVZBUi4gMDQyNC04MTA2NTUxIC8gMDI5My00MTc3MzUxIEUtbWFpbDogc2FlY28udmVAZ21haWwuY29tKSI7DQoJCX0NCgl9DQoNCg==');
	
	function getdatos1(){ exec('ipconfig/all > mac.txt'); $fp = fopen("mac.txt","r"); $ubi=false; while ($linea= fgets($fp)) { if(strstr($linea,'Adaptador Ethernet Conexión de área local') || strstr($linea,'Ethernet adapter Local Area Connection:')){ $ubi=true; } if($ubi==true){ if(strstr($linea,'Descripción') || strstr($linea,'Description')){ $valor=explode(":",$linea); $nom_mac=trim($valor[1]); } if(strstr($linea,'Dirección física') || strstr($linea,'Physical Address')){ $valor=explode(":",$linea); $mac=trim($valor[1]); break; } } } fclose ($fp); unlink('mac.txt'); $nom_server=$_SERVER["SERVER_NAME"]; $ip=$_SERVER["SERVER_ADDR"]; $valor=explode(".",$ip); $ip_server=$valor[0].".".$valor[1].".".$valor[2]."."; return array($nom_mac,$mac,$nom_server,$ip_server); } 
	function zend_encoder($string){ global $key; $enc = ""; global $iv; $enc=@mcrypt_cbc (MCRYPT_TripleDES, $key, $string, MCRYPT_ENCRYPT); return base64_encode($enc); } 
	$key=$_SESSION["mensualidad"]; 
	function zend_enc($string,$acceso){ $id_seg=strtoupper(md5('1')); $acceso->objeto->ejecutarSql("select firma_seg from contrato_ser where id_seg='$id_seg'"); $row=$acceso->objeto->devolverRegistro(); $key=trim($row['firma_seg']); $enc=@mcrypt_cbc (MCRYPT_TripleDES, $key, $string, MCRYPT_ENCRYPT); return base64_encode($enc); } 
	function zend_dec($string,$acceso){ $id_seg=strtoupper(md5('1')); $acceso->objeto->ejecutarSql("select firma_seg from contrato_ser where id_seg='$id_seg'"); $row=$acceso->objeto->devolverRegistro(); $key=trim($row['firma_seg']); $string = trim(base64_decode($string)); $dec = @mcrypt_cbc (MCRYPT_TripleDES, $key, $string, MCRYPT_DECRYPT); return trim($dec); } 
	function nivel1(){ $refer=$_SERVER["HTTP_REFERER"]; nivel2(); if(strstr($refer,'http://server/SAECO/')){ if(nivel2()){ return true; } else{ return false; } } return false; } 
	function nivel2(){ $ruta=$_SERVER["SCRIPT_FILENAME"]; $fp = fopen($ruta,"r"); $ubi=false; while ($linea= fgets($fp)) { if(strstr($linea,'echo') || strstr($linea,'print')){ return false; } } fclose ($fp); return true; } 
	function traerContrato_ser($acceso,$acceso1){ $id_seg=strtoupper(md5('1')); $acceso->objeto->ejecutarSql1("select llave_dec,limite_reg, licencia_seg, fecha_lic, hora_lic, empresa_aut, version_sis, acerca_de, status_seg from contrato_ser where llave_dec!=''"); if($row=$acceso->objeto->devolverRegistro()){ $num = count($row); for($i=0;$i<$num;$i++){ echo '=@'.zend_dec(trim($row[$i]),$acceso1); } } else{ echo "false"; } } 
	function verificamen($acceso){ $datos=getdatos1(); $campo = md5($datos[0].$datos[1].$datos[2].$datos[3]); $id_seg=strtoupper(md5('1')); $_SESSION["mensualidad"]=$campo; } function zend_decoder($string){ if(nivel1()){ global $key; global $iv; $string = trim(base64_decode($string)); $dec = @mcrypt_cbc (MCRYPT_TripleDES, $key, $string, MCRYPT_DECRYPT); return trim($dec); } else{ echo "Acceso no autorizado a estos datos. (CEDESOFT BOLIVAR. 0424-8106551 / 0293-4177351 E-mail: saeco.ve@gmail.com)"; } } 
	
?>